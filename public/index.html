<!DOCTYPE html>
<!-- -*- coding:utf-8 -*- -->
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/vue/1.0.21/vue.min.js"></script>
    <script src="/js/index.js"></script>
    <title>Ingress Mission Recommender</title>
  </head>
  <body>
    <div class="container" role="main">
      <div class="jumbotron">
        <h1>Mission Recommender</h1>
        <p>For Ingress Agent</p>
      </div>

      <div id="message">
        <div class="alert alert-warning" role="alert" v-if="isError">
          {{ message }}
        </div>
      </div>

      <form class="form-inline" id="control">
        <div class="form-group">
          <label for="latitude">Latitude</label>
          <input type="text" class="form-control" id="latitude" v-model="pos.lat">
        </div>

        <div class="form-group">
          <label for="longitude">Longitude</label>
          <input type="text" class="form-control" id="longitude" v-model="pos.lng">
        </div>

        <div class="form-group">
          <label for="meter">Region(meter)</label>
          <input type="number" class="form-control" id="meter" v-model="meter">
        </div>

        <button type="button" class="btn btn-default" @click="change()">Change</button>
      </form>

      <form class="form-inline" id="location" @submit.prevent="search()">
        <div class="form-group">
          <label for="address">Address</label>
          <input type="text" class="form-control" id="address" v-model="address">
        </div>

        <button type="button" class="btn btn-default" @click="search()">Search</button>
      </form>

      <table class="table table-condensed table-striped" id="recommend">
        <tr><th>Name</th><th>To</th><th>Around</th><th></th></tr>
        <tr v-for="m in missions">
          <td>{{ m.name }}</td>
          <td>{{ m.to.toFixed(1) }} m</td>
          <td>{{ m.around.toFixed(1) }} m</td>
          <td>
            <button type="button" class="btn btn-xs" @click="clear($index)" v-if="!m.isClear">Clear</button>
            <button type="button" class="btn btn-xs" @click="feedback($index, 1)" v-if="m.feedback <= 0">
              <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
            </button>
            <button type="button" class="btn btn-xs" @click="feedback($index, -1)" v-if="0 <= m.feedback">
              <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
            </button>
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
